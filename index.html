<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SARC-Fï¼SARC-CalF è‚Œå°‘ç—‡è‡ªè©•å·¥å…·</title>
  <style>
    :root{
      --bg:#f6f7fb; /* æ·ºè‰²èƒŒæ™¯ */
      --text:#111;  /* æ·±è‰²æ–‡å­— */
      --muted:#666;
      --primary:#2f6fed;
      --ok:#1a7f37;
      --warn:#b58100;
      --danger:#b42318;
      --card:#ffffff;
      --shadow:0 10px 24px rgba(16,24,40,0.08);
      --radius:16px;
    }
    *{box-sizing:border-box}
    body{font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji"; margin:0; color:var(--text); background:var(--bg);}
    .wrap{max-width:960px; margin:24px auto 48px; padding:0 16px}
    header{margin:8px 0 16px}
    h1{font-size: clamp(22px, 3vw, 40px); margin:0 0 6px}
    .sub{color:var(--muted); line-height:1.6}

    .card{background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); padding:18px 18px; margin:14px 0}
    .q-title{font-weight:600; margin:0 0 8px; font-size:18px}
    .hint{color:var(--muted); font-size:16px; margin:4px 0 10px}

    .gradientbar{height:10px; border-radius:999px; background: linear-gradient(90deg,#37c978,#ffcf3d,#ff6b6b); margin:6px 0 12px}

    .options{display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:10px}
    .opt{position:relative}
    .opt input{position:absolute; inset:0; opacity:0}
    .opt label{display:block; border:1.5px solid #e5e7eb; border-radius:12px; padding:12px; text-align:center; cursor:pointer; transition: all .18s ease}
    .opt input:focus+label{outline:3px solid #e0ebff}
    .opt input:checked+label{border-color:var(--primary); box-shadow: 0 0 0 4px rgba(47,111,237,.12)}

    .row{display:grid; grid-template-columns: 1fr 1fr; gap:12px}
    @media (max-width:720px){ .row{grid-template-columns: 1fr} }

    .field{display:flex; gap:8px; align-items:center}
    .field input[type="number"], .field select{width:100%; padding:10px 12px; border-radius:12px; border:1.5px solid #e5e7eb; font-size:16px}

    .actions{display:flex; flex-wrap:wrap; gap:10px; margin-top:12px}
    button{appearance:none; border:0; border-radius:12px; padding:12px 16px; font-weight:700; cursor:pointer}
    .primary{background:var(--primary); color:#fff}
    .ghost{background:#eef2ff; color:#1e2a5e}
    .subtle{background:#eaeef8; color:#223}
    button:disabled{opacity:.6; cursor:not-allowed}

    .result{display:none; margin-top:14px; padding:16px; border-radius:14px; border:1.5px dashed #d0d7ea; background:#f8faff}
    .scoreline{font-size:18px; font-weight:800; margin:2px 0}
    .badge{display:inline-block; padding:4px 10px; border-radius:999px; font-weight:800; font-size:15px}
    .ok{background:#e7f7ec; color:var(--ok)}
    .mid{background:#fff6db; color:var(--warn)}
    .hi{background:#ffe7e6; color:var(--danger)}

    footer{margin:28px 0 0; color:var(--muted); font-size:15px; line-height:1.7}
    .tiny{font-size:15px; color:#7a7a7a}
    .hr{height:1px; background:#eceff6; margin:16px 0}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>SARC-Fï¼SARC-CalF è‚Œå°‘ç—‡è‡ªè©•å·¥å…·</h1>
      <p class="sub">èªªæ˜ï¼šSARCâ€‘F æœ‰ 5 é¡Œï¼Œæ¯é¡Œ 0â€“2 åˆ†ï¼›ç¸½åˆ† â‰¥4 ä»£è¡¨<strong>è‚Œå°‘ç—‡é«˜é¢¨éšª</strong>ã€‚è‹¥è¼¸å…¥ã€Œç”Ÿç†æ€§åˆ¥ã€èˆ‡ã€Œå°è…¿åœã€ï¼Œç³»çµ±æœƒè¨ˆç®— SARCâ€‘CalFï¼ˆåœ¨ SARCâ€‘F åŸºç¤ä¸Šè‹¥å°è…¿åœéå°åŠ  10 åˆ†ï¼›ç”·æ€§ &lt;34cmã€å¥³æ€§ &lt;33cmï¼‰ã€‚SARCâ€‘CalF åˆ†æ•¸ â‰¥11 ä»£è¡¨<strong>é«˜é¢¨éšª</strong>ã€‚</p>
    </header>

    <div class="card" id="about-you">
      <div class="q-title">åŸºæœ¬è³‡æ–™ï¼ˆ<span style="font-weight:600">SARCâ€‘CalF é¸å¡«</span>ï¼‰</div>
      <div class="row">
        <div class="field">
          <label for="sex" class="hint">ç”Ÿç†æ€§åˆ¥ï¼š</label>
        </div>
        <div class="field">
          <select id="sex" aria-label="ç”Ÿç†æ€§åˆ¥">
            <option value="">ï¼ˆæœªé¸æ“‡ï¼‰</option>
            <option value="male">ç”·æ€§</option>
            <option value="female">å¥³æ€§</option>
          </select>
        </div>
      </div>
      <div class="row" style="margin-top:8px">
        <div class="field">
          <label for="calf" class="hint">å°è…¿åœï¼ˆæœ€ç²—è™•ï¼Œå…¬åˆ†ï¼‰ï¼š</label>
        </div>
        <div class="field">
          <input id="calf" type="number" min="10" max="70" step="0.1" placeholder="ä¾‹å¦‚ 33.5" aria-label="å°è…¿åœï¼ˆå…¬åˆ†ï¼‰" />
        </div>
      </div>
      <p class="tiny">æ¸¬é‡å°æ’‡æ­¥ï¼šåå§¿ï¼Œè†è“‹ 90Â° æ”¾é¬†ï¼Œæ‰¾å‡ºå°è…¿æœ€ç²—è™•æ°´å¹³é‡æ¸¬ï¼›é‡å…©å´å–è¼ƒå¤§å€¼ã€‚</p>
    </div>

    <form id="sarcForm" class="card" novalidate>
      <div class="q">
        <div class="q-title">1) æ¬èµ· 10 ç£…ï¼ˆç´„ 5 å…¬æ–¤ï¼‰çš„ç‰©å“æ˜¯å¦å›°é›£ï¼Ÿ(å¤§è³£å ´ 2.5 å…¬æ–¤çš„ç±³å…©åŒ…æˆ– 5000 mL å¤§ç“¶é£²ç”¨æ°´)</div>
        <div class="gradientbar" aria-hidden="true"></div>
        <div class="options" role="radiogroup" aria-label="æ¬é‹å›°é›£ç¨‹åº¦">
          <div class="opt"><input type="radio" name="q1" id="q1-0" value="0"><label for="q1-0">ä¸å›°é›£ğŸ˜€ï¼ˆ0ï¼‰</label></div>
          <div class="opt"><input type="radio" name="q1" id="q1-1" value="1"><label for="q1-1">æœ‰äº›å›°é›£ğŸ˜…ï¼ˆ1ï¼‰</label></div>
          <div class="opt"><input type="radio" name="q1" id="q1-2" value="2"><label for="q1-2">éå¸¸å›°é›£ï¼ç„¡æ³•ğŸ˜£ï¼ˆ2ï¼‰</label></div>
        </div>
      </div>
      <div class="hr"></div>

      <div class="q">
        <div class="q-title">2) å¾æ¤…å­ä¸Šç«™èµ·ä¾†æ˜¯å¦å›°é›£ï¼Ÿ</div>
        <div class="gradientbar" aria-hidden="true"></div>
        <div class="options" role="radiogroup" aria-label="å¾æ¤…å­ç«™èµ·å›°é›£ç¨‹åº¦">
          <div class="opt"><input type="radio" name="q2" id="q2-0" value="0"><label for="q2-0">ä¸å›°é›£ğŸ˜€ï¼ˆ0ï¼‰</label></div>
          <div class="opt"><input type="radio" name="q2" id="q2-1" value="1"><label for="q2-1">æœ‰äº›å›°é›£ğŸ˜…ï¼ˆ1ï¼‰</label></div>
          <div class="opt"><input type="radio" name="q2" id="q2-2" value="2"><label for="q2-2">éå¸¸å›°é›£ï¼ç„¡æ³•ğŸ˜£ï¼ˆ2ï¼‰</label></div>
        </div>
      </div>
      <div class="hr"></div>

      <div class="q">
        <div class="q-title">3) èµ°è·¯æ˜¯å¦å›°é›£ï¼Ÿï¼ˆåœ¨æˆ¿é–“å…§æˆ–çŸ­è·é›¢ï¼‰</div>
        <div class="gradientbar" aria-hidden="true"></div>
        <div class="options" role="radiogroup" aria-label="èµ°è·¯å›°é›£ç¨‹åº¦">
          <div class="opt"><input type="radio" name="q3" id="q3-0" value="0"><label for="q3-0">ä¸å›°é›£ğŸ˜€ï¼ˆ0ï¼‰</label></div>
          <div class="opt"><input type="radio" name="q3" id="q3-1" value="1"><label for="q3-1">æœ‰äº›å›°é›£ğŸ˜…ï¼ˆ1ï¼‰</label></div>
          <div class="opt"><input type="radio" name="q3" id="q3-2" value="2"><label for="q3-2">éå¸¸å›°é›£ï¼ç„¡æ³•ğŸ˜£ï¼ˆ2ï¼‰</label></div>
        </div>
      </div>
      <div class="hr"></div>

      <div class="q">
        <div class="q-title">4) ä¸Š 10 éšæ¨“æ¢¯æ˜¯å¦å›°é›£ï¼Ÿ</div>
        <div class="gradientbar" aria-hidden="true"></div>
        <div class="options" role="radiogroup" aria-label="ä¸Šæ¨“æ¢¯å›°é›£ç¨‹åº¦">
          <div class="opt"><input type="radio" name="q4" id="q4-0" value="0"><label for="q4-0">ä¸å›°é›£ğŸ˜€ï¼ˆ0ï¼‰</label></div>
          <div class="opt"><input type="radio" name="q4" id="q4-1" value="1"><label for="q4-1">æœ‰äº›å›°é›£ğŸ˜…ï¼ˆ1ï¼‰</label></div>
          <div class="opt"><input type="radio" name="q4" id="q4-2" value="2"><label for="q4-2">éå¸¸å›°é›£ï¼ç„¡æ³•ğŸ˜£ï¼ˆ2ï¼‰</label></div>
        </div>
      </div>
      <div class="hr"></div>

      <div class="q">
        <div class="q-title">5) å›æƒ³éå»ä¸€å¹´æ›¾è·Œå€’å¹¾æ¬¡ï¼Ÿ</div>
        <div class="gradientbar" aria-hidden="true"></div>
        <div class="options" role="radiogroup" aria-label="è·Œå€’æ¬¡æ•¸">
          <div class="opt"><input type="radio" name="q5" id="q5-0" value="0"><label for="q5-0">0 æ¬¡ğŸ˜€ï¼ˆ0ï¼‰</label></div>
          <div class="opt"><input type="radio" name="q5" id="q5-1" value="1"><label for="q5-1">1â€“3 æ¬¡ğŸ˜ï¼ˆ1ï¼‰</label></div>
          <div class="opt"><input type="radio" name="q5" id="q5-2" value="2"><label for="q5-2">4 æ¬¡ä»¥ä¸ŠğŸ˜«ï¼ˆ2ï¼‰</label></div>
        </div>
      </div>

      <div class="actions">
        <button type="button" id="calcBtn" class="primary" disabled>è¨ˆç®—åˆ†æ•¸</button>
        <button type="reset" class="ghost" id="resetBtn">æ¸…é™¤é‡å¡«</button>
        <button type="button" class="subtle" id="printBtn">åˆ—å°ï¼å­˜æˆ PDF</button>
      </div>

      <div id="result" class="result" aria-live="polite"></div>
    </form>

    <footer>
      <div class="card">
        <div class="q-title">çµæœè§£è®€</div>
        <ul>
          <li><strong>SARCâ€‘Fï¼š</strong>0â€“3 åˆ†ï¼é¢¨éšªä½ï¼›<strong>â‰¥4 åˆ†ï¼è‚Œå°‘ç—‡é«˜é¢¨éšª</strong>ï¼ˆå»ºè­°é€²ä¸€æ­¥æª¢æŸ¥ï¼‰ã€‚</li>
          <li><strong>SARCâ€‘CalFï¼š</strong>åœ¨ SARCâ€‘F ä¸Šï¼Œè‹¥å°è…¿åœåå°ï¼ˆç”·&lt;34cmï¼å¥³&lt;33cmï¼‰â†’ åŠ  10 åˆ†ï¼›<strong>â‰¥11 åˆ†ï¼é«˜é¢¨éšª</strong>ã€‚</li>
          <li>é«˜é¢¨éšªè€…å»ºè­°ï¼šå®‰æ’<strong>æ¡åŠ›</strong>ã€<strong>æ­¥è¡Œé€Ÿåº¦</strong>ã€èˆ‡ <strong>å››è‚¢éª¨éª¼è‚Œé‡ï¼ˆBIAï¼DXAï¼‰</strong>æª¢æ¸¬ï¼›é£²é£Ÿè›‹ç™½è³ªç´„ <strong>1.0â€“1.2 g/kg/æ—¥</strong>ï¼Œæ¯é€± 2â€“3 æ¬¡é˜»åŠ›è¨“ç·´ï¼Œæ³¨æ„é˜²è·Œç­–ç•¥èˆ‡ç¶­ç”Ÿç´  Dï¼›å¿…è¦æ™‚å°±é†«è©•ä¼°ã€‚</li>
        </ul>
        <p class="tiny">æœ¬å·¥å…·ç‚ºå¥åº·æ•™è‚²ç”¨é€”ï¼Œä¸èƒ½å–ä»£å°ˆæ¥­é†«ç™‚è¨ºæ–·ã€‚</p>
      </div>
    </footer>
  </div>

<script>
  const form = document.getElementById('sarcForm');
  const calcBtn = document.getElementById('calcBtn');
  const resetBtn = document.getElementById('resetBtn');
  const printBtn = document.getElementById('printBtn');
  const result = document.getElementById('result');

  const requiredNames = ['q1','q2','q3','q4','q5'];

  function allAnswered(){
    return requiredNames.every(name => form.querySelector(`input[name="${name}"]:checked`));
  }

  function updateCalcBtn(){
    calcBtn.disabled = !allAnswered();
  }

  form.addEventListener('change', updateCalcBtn);
  window.addEventListener('DOMContentLoaded', updateCalcBtn);

  calcBtn.addEventListener('click', () => {
    if(!allAnswered()) return; // safety

    // SARC-F sum
    let sarcF = requiredNames.reduce((sum, name) => sum + Number(form.querySelector(`input[name="${name}"]:checked`).value), 0);

    // Optional SARC-CalF addition
    const sex = document.getElementById('sex').value;
    const calf = parseFloat(document.getElementById('calf').value);
    let add10 = 0;
    if(sex && !isNaN(calf)){
      if((sex === 'male' && calf < 34) || (sex === 'female' && calf < 33)){
        add10 = 10;
      }
    }
    const sarcCalf = sarcF + add10;

    // Build interpretation
    const sarcFTag = sarcF >= 4 ? '<span class="badge hi">SARCâ€‘F é«˜é¢¨éšª â‰¥4</span>' : (sarcF >=1 ? '<span class="badge mid">SARCâ€‘F ä¸­ç­‰é¢¨éšª</span>' : '<span class="badge ok">SARCâ€‘F é¢¨éšªä½</span>');

    let calfLine = '';
    if(sex || !isNaN(calf)){
      if(!sex || isNaN(calf)){
        calfLine = '<div class="hint">ï¼ˆè¦è¨ˆç®— SARCâ€‘CalF è«‹åŒæ™‚å¡«ã€Œç”Ÿç†æ€§åˆ¥ã€èˆ‡ã€Œå°è…¿åœã€ã€‚ï¼‰</div>';
      } else {
        const calfJudgement = add10 === 10 ? '<span class="badge hi">å°è…¿åœåå° </span>' : '<span class="badge ok">å°è…¿åœæ²’æœ‰åå°</span>';
        const sarcCalfTag = sarcCalf >= 11 ? '<span class="badge hi">SARCâ€‘CalF é«˜é¢¨éšª â‰¥11</span>' : (sarcCalf >=4 ? '<span class="badge mid">SARCâ€‘CalF ä¸­ç­‰é¢¨éšª</span>' : '<span class="badge ok">SARCâ€‘CalF é¢¨éšªä½</span>');
        calfLine = `
          <div class="scoreline">SARCâ€‘CalFï¼š<strong>${sarcCalf}</strong> / 20 ${sarcCalfTag}</div>
          <div class="tiny">ï¼ˆåˆ¤æ–·é–€æª»ï¼šç”·æ€§ &lt;34cmã€å¥³æ€§ &lt;33cmï¼›ç›®å‰é‡æ¸¬ï¼š${calf.toFixed(1)} cmï¼‰ ${calfJudgement}</div>
        `;
      }
    }

    result.style.display='block';
    result.innerHTML = `
      <div class="scoreline">SARCâ€‘Fï¼š<strong>${sarcF}</strong> / 10 ${sarcFTag}</div>
      ${calfLine}
      <div class="hr"></div>
      <div>å»ºè­°ï¼šè‹¥ç‚ºé«˜é¢¨éšªï¼Œè«‹å®‰æ’æ¡åŠ›ã€æ­¥é€Ÿèˆ‡è‚Œé‡æª¢æ¸¬ï¼Œä¸¦èˆ‡é†«ç™‚äººå“¡è¨è«–é˜»åŠ›è¨“ç·´èˆ‡ç‡Ÿé¤Šèª¿æ•´ã€‚</div>
    `;

    // æ»¾å‹•åˆ°çµæœ
    result.scrollIntoView({behavior:'smooth', block:'start'});
  });

  resetBtn.addEventListener('click', () => {
    setTimeout(()=>{
      result.style.display='none';
      result.innerHTML='';
      updateCalcBtn();
    }, 0);
  });

  printBtn.addEventListener('click', () => window.print());
</script>
</body>
</html>
